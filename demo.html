<!DOCTYPE html>
<html>
<body>
<h1>Testing Simple JS function calls</h1>


<label for="start">Start Date:</label>

<input type="date" id="start" name="trip-start"
       value="2018-07-22"
       min="2018-01-01" max="2018-12-31"
       onchange="dateChange(event)">

<script>
    let today = new Date();
    let dd = today.getDate();
    let mm = today.getMonth()+1; //January is 0 so need to add 1 to make it 1!
    let yyyy = today.getFullYear();
    if(dd<10){
    dd='0'+dd
    } 
    if(mm<10){
    mm='0'+mm
    } 

    today = yyyy+'-'+mm+'-'+dd;
    document.getElementById("start").setAttribute("max", today);
    document.getElementById("start").setAttribute("value", today);

    const dateChange = (e) => {
        id = e.target.id
        newValue = e.target.value
        element = document.getElementById(id)
        element.setAttribute('value', newValue)
        alert(document.getElementById(id).getAttribute('value'))
    }

</script>

</body>

</html>